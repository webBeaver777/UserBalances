<template>

	<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">

		<div class="container-fluid">
			 <router-link
				class="navbar-brand"
				to="/"
				> üí∞ –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è </router-link
			>
			<div
				class="navbar-nav ms-auto"
				v-if="userStore.isAuthenticated"
			>
				 <span class="navbar-text me-3"> –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ userStore.userName }} </span>
				<button
					@click="handleLogout"
					class="btn btn-outline-light btn-sm"
				>
					 üö™ –í—ã–π—Ç–∏ </button
				>
			</div>

		</div>

	</nav>

</template>

<script>
import { useRouter } from 'vue-router';
import { useUserStore } from '../store/userStore';

export default {
	name: 'Header',
	setup() {
		const router = useRouter();
		const userStore = useUserStore();

		const handleLogout = async () => {
			await userStore.logout();
			router.push('/login');
		};

		return {
			userStore,
			handleLogout
		};
	}
};
</script>

